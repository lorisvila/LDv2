<!--Grid pour l'affichage des données des LD-->
<wcs-grid id="grid-simple-1" row-id-path="id" [data]="ldService.data" [loading]="ldService.loading" [loading]="generalService.offlineMode ? false : true">
  <!--Colonnes de la grid-->
  <wcs-grid-column name="Désignation" path="des" sort="" id="column-designation" width="40vw"></wcs-grid-column>
  <wcs-grid-column name="Type engin" id="type" customCells="true" width="10vw"></wcs-grid-column>
  <wcs-grid-column name="Reference" path="ref" sort="" id="column-ref" width="10vw"></wcs-grid-column>
  <wcs-grid-column name="Indice" path="ind" sort="" id="column-ind"></wcs-grid-column>
  <wcs-grid-column name="Ouvrir" id="url" custom-cells="true" width="10vw"></wcs-grid-column>

  <!--Cases personalisés pour la colonne "Type Engin"-->
  <wcs-grid-custom-cell column-Id="type" [rowId]="i+1" *ngFor="let item of ldService.data; index as i">
    <!--Affichage de "Tous" si tous les types sont concernés-->
    <span *ngIf="item.type.length === enginService.types_engin[enginService.actual_engin].length; else elseBlock">
      Tous les {{enginService.actual_engin}}
    </span>
    <!--Affichage des types concernés si pas tous les types-->
    <ng-template #elseBlock>
      {{item['type'].join(" ; ")}}
    </ng-template>

  </wcs-grid-custom-cell>

  <!--Cases personalisés pour la colonne "Ouvrir"-->
  <wcs-grid-custom-cell column-Id="url" [rowId]="i+1" *ngFor="let item of ldService.data; index as i">
    <wcs-button mode="clear" size="s" [href]="item.url" target="_blank">
      Ouvrir le document
    </wcs-button>
  </wcs-grid-custom-cell>

  <!--Pagination element at the bottom of the grid-->
  <wcs-grid-pagination id="grid-pagination" [pageSize]="ldService.pageSize" [availablePageSizes]="ldService.availablePageSizes"></wcs-grid-pagination>
</wcs-grid>
